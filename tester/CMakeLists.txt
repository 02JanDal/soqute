add_executable(tester main.cpp)
qt5_use_modules(tester Core)

file(GLOB_RECURSE test_packages packages/*)
add_custom_target(tester_copy_data
    COMMAND ${CMAKE_COMMAND} -E copy ${CMAKE_CURRENT_SOURCE_DIR}/test_meta.json ${CMAKE_RUNTIME_OUTPUT_DIRECTORY}/test_meta.json
    COMMAND ${CMAKE_COMMAND} -E copy_directory ${CMAKE_CURRENT_SOURCE_DIR}/packages ${CMAKE_RUNTIME_OUTPUT_DIRECTORY}/packages
    SOURCES test_meta.json ${test_packages}
)
add_dependencies(tester tester_copy_data)
